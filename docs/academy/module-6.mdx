---
SPDX-License-Identifier: Apache-2.0
copyright: This file is part of midnight-docs. Copyright (C) 2025 Midnight Foundation. Licensed under the Apache License, Version 2.0 (the "License"); You may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
id: module-6
title: Building Decentralized Applications (DApps) on Midnight
displayed_sidebar: sidebar
---

import QuizWithRetry from '@site/src/components/QuizWithRetry';
import AuthGuard from '@site/src/components/AuthGuard';
import LoggedInUserInfo from '@site/src/components/LoggedInUserInfo';
import LogoutButton from '@site/src/components/LogoutButton';

# Module 6: Building Decentralized Applications (DApps) on Midnight

## Introduction

This module walks learners through creating, testing, and deploying a full-stack decentralized application (DApp) on the Midnight blockchain using the Compact framework. It includes hands-on development, front-end integration, and deployment on TestNet-02. Multiple-choice quizzes are provided at the end of each major section to reinforce learning outcomes.

## Learning Objectives

By the end of this module, you will be able to:

- Understand the core components and privacy model of Midnight’s blockchain and smart contract platform.
- Set up a local development environment tailored for building on Midnight, including Docker, Node.js, and the Lace wallet.
- Write, compile, and test smart contracts using the Compact domain-specific language.
- Build a full-stack DApp that interfaces with a Midnight smart contract using TypeScript and Midnight.js.
- Connect a frontend securely to the Midnight network via indexers, proof servers, and the Lace wallet DApp connector.
- Test your DApp in a local standalone environment and on the public TestNet-02 network.
- Use automated testing libraries to ensure functional correctness and privacy guarantees of your application.
- Deploy a complete privacy-preserving DApp and verify contract interaction and state changes on Midnight.

## What is a DApp on Midnight?

Unlike conventional DApps that publish all interactions on-chain, Midnight ensures user data stays private by default. Developers can selectively disclose information when needed, but private state is never stored publicly.

Developing DApps on Midnight involves a streamlined yet privacy-centric workflow designed for building secure, zero-knowledge-based decentralized applications. Unlike conventional blockchain development, Midnight emphasizes confidentiality and selective data disclosure as first-class design principles.

Key aspects include:

* **Setting Up the Development Environment**: Developers install Docker, Node.js, and the Compact compiler. The Lace Wallet (a Chrome extension) is used for managing identities and signing transactions. A local proof server is run to handle zero-knowledge proof generation. Test tokens (tDUST) are acquired from the testnet faucet to cover transaction fees.

* **Writing Smart Contracts in Compact**: Midnight smart contracts are written in Compact, a privacy-enforcing domain-specific language inspired by TypeScript. Compact allows you to define which variables are private and which can be publicly disclosed. The Compact compiler generates both cryptographic artifacts and strongly typed TypeScript/JavaScript APIs.

* **Building the DApp Frontend/Backend**: DApps on Midnight are typically developed in TypeScript or JavaScript, using the generated contract APIs. The Midnight.js SDK offers utilities for blockchain interaction, wallet integration, and managing private state transitions.

* **Testing in a Local Environment**: Midnight supports full-stack local development using Docker. Developers can simulate the entire stack (node, indexer, proof server) offline to validate contract behavior and data privacy before deploying to the public testnet.

* **Deploying and Interacting on TestNet-02**: After successful testing, DApps can be deployed to Midnight TestNet-02, allowing interaction with real network services in a sandboxed environment. This stage supports user testing, transaction signing, and remote proof generation.

* **Using Developer Tools**: Midnight provides a CLI wallet, a VSCode extension for Compact, a mock node for simulations, and built-in testing libraries for automation. The ecosystem is designed to support iterative development and high-confidence deployment.

In short, building DApps on Midnight means combining secure, privacy-first smart contracts with a robust developer experience tailored for scalable, confidential applications.

<AuthGuard>
  <>
    <LoggedInUserInfo />
    <LogoutButton />

    <QuizWithRetry
      questions={[
        {
          question: 'What is the role of the Compact language in Midnight DApp development?',
          options: [
            'It defines transaction fees for privacy settings',
            'It allows you to program user wallets',
            'It enforces data privacy rules and generates typed APIs for contracts',
            'It optimizes gas usage across different blockchains',
          ],
          answer: 2,
        },
        {
          question: 'Which component handles zero-knowledge proof generation in the local development environment?',
          options: [
            'Docker Compose',
            'Lace Wallet',
            'Midnight CLI',
            'Proof Server',
          ],
          answer: 3,
        },
        {
          question: 'What does the Lace Wallet extension allow you to do?',
          options: [
            'Deploy contracts directly from GitHub',
            'Sign transactions and manage DApp identities',
            'Run a private Midnight node on your browser',
            'Query GraphQL endpoints directly',
          ],
          answer: 1,
        },
        {
          question: 'What are the main outputs of the Compact compiler?',
          options: [
            'WebAssembly modules and Solidity wrappers',
            'Encrypted source code and execution traces',
            'TypeScript APIs and cryptographic artifacts',
            'Node.js scripts and custom frontends',
          ],
          answer: 2,
        },
        {
          question: 'Which of the following best describes the Midnight testnet?',
          options: [
            'A mainnet fork used for public token trading',
            'An offline simulator with no smart contract support',
            'A public sandbox network for testing and iteration',
            'A mock server for backend database testing',
          ],
          answer: 2,
        },
      ]}
    />
  </>
</AuthGuard>

## Environment Setup and First Contract

This section walks you through the foundational steps for developing decentralized applications (DApps) on the Midnight blockchain. Midnight is built around privacy and zero-knowledge proofs, and its development workflow reflects that with specialized tools and architecture.

You’ll begin by installing and configuring the necessary environment—this includes Docker, Node.js, the Compact compiler, and the Lace Wallet extension. Then, you’ll create a project scaffold, write your first Compact smart contract, and compile it into a usable form. 

### Setting Up Your Environment

To begin building on Midnight, install the essential tools and configure your development environment:

- **Docker Desktop** – Required to run local instances like the proof server.
- **Google Chrome (v119 or later)** – Required for installing the Lace wallet extension.
- **Node.js (v18 LTS)** – Runtime for JavaScript tooling and DApp development:

  ```bash
  nvm install 18 --lts
  ```
- **Lace Wallet Chrome Extension**:
  - Install from the [here](https://chromewebstore.google.com/detail/lace-beta/hgeekaiplokcnmakghbdfbgnlfheichg).


### Configure Wallet and Get Test Tokens

1. Create a new wallet address in Lace.

2. Request tDUST from the [Midnight testnet faucet](https://faucet.testnet.midnight.network/).

3. Run the proof server:

   ```bash
   docker run -p 6300:6300 midnightnetwork/proof-server -- 'midnight-proof-server --network testnet'
   ```


### Install the Compact Compiler

1. Install the Compact developer tools:

   ```bash
   curl --proto '=https' --tlsv1.2 -LsSf https://github.com/midnightntwrk/compact/releases/latest/download/compact-installer.sh | sh
   ```

2. Update to the latest toolchain and test installation:

   ```bash
   compact update
   compact compile --version
   ```

3. No environment variable needed:

   The new developer tools eliminate the need for `COMPACT_HOME`. The `compact` command automatically manages compiler locations.

:::note
For more information about the Compact developer tools, see the [release announcement](https://docs.midnight.network/dev-diaries/introducing-compact-developer-tools).
:::


## Install the VSCode Compact Extension

1. Download the `.vsix` file from the [Midnight releases page](https://docs.midnight.network/relnotes/vs-code-extension).
2. In VSCode, go to **Extensions → ... → Install from VSIX...** and select the file.

## Create Project Structure

When starting a Midnight DApp project, the recommended project structure is illustrated in the official tutorials and example projects. The structure is designed to separate the smart contract code from the DApp interface (such as a CLI or web UI), making development and testing more manageable.

```
your-dapp/
├── contract/         # Compact contract source and related TypeScript
│   ├── src/
│   │   └── your_contract.compact
│   └── ...           # build/test scripts, managed code, etc.
├── dapp-cli/         # Command-line interface for interacting with the contract
│   ├── src/
│   │   └── index.ts
│   └── ...           # CLI-specific code and configs
├── dapp-web/         # (optional) Web UI for your DApp
│   └── ...
└── README.md
```

* `contract/:` Contains the Compact contract source file(s) and associated TypeScript code generated by the Compact compiler. This is where you define your smart contract logic.
* `dapp-cli/:` Contains the command-line interface code, which depends on the outputs of the contract sub-project. This is where you implement user interactions for testing or administration.
* `dapp-web/:` (Optional) For more complex DApps, you might have a separate folder for a web-based UI.

Each sub-project is typically buildable and testable independently.

### Create and Build Your Compact Contract

1. Write your smart contract in the Compact DSL. For example, a simple contract that maintains a public counter and provides a single operation to increment it:

   ```
   pragma language_version 0.16;
   
   import CompactStandardLibrary;
   
   // public state
   export ledger round: Counter;
   
   // transition function changing public state
   export circuit increment(): [] {
     round.increment(1);
   }
   ```

   In this example, `pragma language_version 0.16.0;` ensures compatibility with the Compact compiler version. The `import CompactStandardLibrary;` brings in standard types like `Counter`. The `export ledger round: Counter;` declares a public counter stored on the ledger. The `export circuit increment(): [] { ... }` defines a public function that increments the counter by 1.

2. Compile the contract using the Compact compiler:

  ```bash
  compact compile contract/counter.compact managed/counter
  npm run build
  ```

<AuthGuard>
  <>
    <LoggedInUserInfo />
    <LogoutButton />

    <QuizWithRetry
      questions={[
        {
          question: 'Why is Docker required in the Midnight development environment?',
          options: [
            'To compile smart contracts into WebAssembly',
            'To run the local proof server and testnet services',
            'To install Lace Wallet in the browser',
            'To deploy contracts to mainnet',
          ],
          answer: 1,
        },
        {
          question: 'What is the purpose of the Lace Wallet Chrome extension?',
          options: [
            'To deploy Docker containers',
            'To query on-chain events from a testnet node',
            'To sign transactions and manage wallet identities',
            'To compile and execute Compact smart contracts',
          ],
          answer: 2,
        },
        {
          question: 'What does the command `nvm install 18 --lts` do?',
          options: [
            'Installs the Compact compiler globally',
            'Starts a local testnet node',
            'Installs the Long-Term Support version of Node.js',
            'Installs the Midnight CLI tools',
          ],
          answer: 2,
        },
        {
          question: 'What is required to run the local proof server?',
          options: [
            'A Lace wallet with testnet tokens',
            'Docker and the correct proof-server image',
            'The VSCode Compact extension',
            'A running GraphQL indexer',
          ],
          answer: 1,
        },
        {
          question: 'What is the purpose of the `compact --skip-zk` command?',
          options: [
            'To skip compiling contract logic',
            'To compile the contract without generating zero-knowledge proofs',
            'To only build frontend APIs',
            'To skip runtime verification checks',
          ],
          answer: 1,
        }
      ]}
    />
  </>
</AuthGuard>

## Front-End Integration

To implement user interfaces that interact seamlessly with Midnight smart contracts, you should leverage the TypeScript/JavaScript APIs generated by the Compact compiler and use the Midnight.js framework.

### Use TypeScript/JavaScript for DApp Development

Midnight is designed so that most business logic and front-end code can be written in TypeScript, making it accessible to a wide range of developers. The Compact compiler outputs TypeScript API definitions for your smart contracts, which you can import into your DApp project. This allows your UI to call contract methods and handle responses in a type-safe way.

### Integrate with Midnight.js

Midnight.js is the main framework for interacting with the Midnight blockchain. It provides utilities for:

* Creating and submitting transactions
* Interacting with wallets
* Querying block and state information
* Subscribing to chain events

It also includes unique utilities for privacy, such as executing smart contracts locally and managing private state

### Connect to Wallets

Your UI should connect to a Midnight-compatible wallet (such as the Lace wallet extension) to allow users to sign transactions and manage their assets. The wallet exposes an API (DApp connector) that your frontend can use to request signatures and interact with the user’s account.

### Example Integration Pattern

A typical integration flow in your UI might look like:

1. Import the generated TypeScript API and Midnight.js utilities.
2. Connect to the user’s wallet using the DApp connector API.
3. Configure providers (for private state, public data, proof server, etc.) using helper functions like configureProviders.
4. Call contract methods via the generated API, passing user input from the UI.
5. Handle transaction signing and proof generation via the wallet and proof server.
6. Display results or errors to the user.

```ts
import { configureProviders } from './api';
import { ContractApi } from './generated/contractApi';

async function runDAppUI(wallet, config) {
  const providers = await configureProviders(wallet, config);
  const contract = new ContractApi(providers);

  // Example: User clicks a button to increment a counter
  document.getElementById('incrementBtn').onclick = async () => {
    try {
      await contract.increment();
      alert('Counter incremented!');
    } catch (e) {
      alert('Error: ' + e.message);
    }
  };
}
```

<AuthGuard>
  <>
    <LoggedInUserInfo />
    <LogoutButton />

    <QuizWithRetry
      questions={[
        {
          question: 'What does the Compact compiler generate to help with frontend integration?',
          options: [
            'GraphQL schemas',
            'REST API routes',
            'TypeScript API definitions for the smart contract',
            'React components for each contract method',
          ],
          answer: 2,
        },
        {
          question: 'What is the main role of Midnight.js in DApp development?',
          options: [
            'Creating and managing testnet wallets',
            'Providing frontend UI templates',
            'Connecting the frontend to the blockchain, wallet, and proof server',
            'Serving as a backend framework for node services',
          ],
          answer: 2,
        },
        {
          question: 'Which of the following is a responsibility of the `configureProviders()` function?',
          options: [
            'Starting the local node and proof server',
            'Setting up access to private state, indexer, node, and proof server',
            'Deploying smart contracts to TestNet-02',
            'Generating Compact smart contract source code',
          ],
          answer: 1,
        },
        {
          question: 'What does the Lace wallet provide when connected to a Midnight DApp?',
          options: [
            'Real-time price data',
            'Automatic code generation for contracts',
            'Transaction signing and account identity',
            'DApp deployment automation',
          ],
          answer: 2,
        },
        {
          question: 'What happens when the user clicks the `incrementBtn` in the example integration code?',
          options: [
            'The DApp disconnects from the wallet',
            'A new smart contract is deployed',
            'The contract method `increment()` is called and the user sees a success message',
            'The app fetches a list of recent transactions',
          ],
          answer: 2,
        }
      ]}
    />
  </>
</AuthGuard>

## Test Your DApp

To test DApps for functionality and security before deploying them on the Midnight network, you should use the dedicated Midnight test environment and available testing libraries.

### Use the Local Midnight Test Environment

Midnight provides a Docker Compose setup that allows you to run a proof server, Midnight node, and Midnight Indexer locally, disconnected from the public Midnight network. This setup simulates a full network environment on your machine, enabling you to test contracts and DApps in isolation before deploying them to the real network.

Start the local test environment using the `standalone.yml` Docker Compose file, such as the one in the [example-counter repository](https://github.com/midnightntwrk/example-counter/blob/main/counter-cli/standalone.yml). This ensures your DApp interacts only with local services during testing.

Navigate to your DApp’s CLI directory and run `yarn standalone`.

When running in standalone mode, the DApp creates a disposable wallet and uses test tokens (tDUST) valid only for offline testing. The DApp uses the wallet SDK to create a wallet from a seed. The wallet address is shown in Bech32m format. This allows you to safely experiment without risking real assets or exposing sensitive data. 

### Automated Testing with Midnight.js Testing Library

Midnight offers a comprehensive testing library, `@midnight-ntwrk/midnight-js-testing`, designed for DApp developers.

1. Install the library:

```bash
yarn add -D @midnight-ntwrk/midnight-js-testing
```

2. Set up your test file (e.g., `midnight.test.js`):

```js
import { getTestEnvironment } from '@midnight-ntwrk/midnight-js-testing';

beforeAll(async () => {
  testEnvironment = getTestEnvironment(logger);
  environmentConfiguration = await testEnvironment.start();
  walletProvider = await testEnvironment.getMidnightWalletProvider();
});

afterAll(async () => {
  await testEnvironment.shutdown();
});
```

The library provides utilities for:

* Spinning up local or live test environments (including proof server control)
* Managing and funding wallets
* Checking system health
* Running tests against your DApp’s contract logic and transaction flows

You can use environment variables to control the test environment (e.g., local, devnet, testnet) and wallet seed for reproducibility.

### Functional and Security Testing Steps

* **Unit Test Your Smart Contracts**: Write unit tests for your Compact contracts and run them locally before integration.
* **Simulate DApp Interactions**: Use the CLI or UI to interact with your DApp in the local test environment, verifying all user flows and contract state changes.
* **Check Privacy Guarantees**: Ensure that private data is never sent to the blockchain or indexer—only to the proof server, as enforced by the architecture Midnight architecture.
* **Test Wallet Integration**: Confirm that wallet creation, restoration (using seed), and transaction signing work as expected, especially with the Bech32m address format Midnight test environment.
* **Automate Regression and Security Tests**: Use the testing library’s assertions and environment controls to automate checks for expected contract behavior and to catch regressions.

<AuthGuard>
  <>
    <LoggedInUserInfo />
    <LogoutButton />

    <QuizWithRetry
      questions={[
        {
          question: 'What is the purpose of the `standalone.yml` Docker Compose setup in Midnight?',
          options: [
            'To connect your DApp to the mainnet for live testing',
            'To simulate a full Midnight network environment locally for private testing',
            'To deploy your DApp to the Lace wallet automatically',
            'To compile Compact contracts and generate TypeScript APIs',
          ],
          answer: 1,
        },
        {
          question: 'What kind of wallet is used during standalone testing?',
          options: [
            'A mainnet-synced wallet with real tokens',
            'A browser-based wallet with persistent state',
            'A disposable wallet created from a seed',
            'A cold storage wallet from hardware devices',
          ],
          answer: 2,
        },
        {
          question: 'Which format is used for wallet addresses in the local test environment?',
          options: [
            'Base58Check',
            'Hexadecimal',
            'Ethereum-style (0x)',
            'Bech32m',
          ],
          answer: 3,
        },
        {
          question: 'What is the Midnight.js testing library used for?',
          options: [
            'Compiling and bundling frontend UI files',
            'Querying node status and managing Lace wallet extensions',
            'Running automated tests and managing test environments',
            'Publishing DApps to the Midnight marketplace',
          ],
          answer: 2,
        },
        {
          question: 'What can be controlled via environment variables in test scripts?',
          options: [
            'Smart contract logic and state transitions',
            'Compact version auto-updates',
            'The network type (local, devnet, testnet) and wallet seed',
            'Wallet UI layout and themes',
          ],
          answer: 2,
        },
      ]}
    />
  </>
</AuthGuard>



## Module Summary

In this module, you set up a full development environment for building privacy-preserving DApps on Midnight. You wrote and compiled smart contracts using the Compact DSL, connected your frontend with Midnight.js and TypeScript APIs, and tested your app locally using Docker and the standalone test environment.

You also learned how to securely interact with wallets, generate zero-knowledge proofs, and prepare your DApp for deployment on TestNet-02. With these tools and patterns, you're now ready to build and test real-world applications on the Midnight blockchain.