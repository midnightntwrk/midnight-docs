---
SPDX-License-Identifier: Apache-2.0
copyright: This file is part of midnight-docs. Copyright (C) 2025 Midnight Foundation. Licensed under the Apache License, Version 2.0 (the "License"); You may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
title: Node
displayed_sidebar: sidebar
---

# Node

Node is a core component of the Midnight network, responsible for syncing, validating transactions, and maintaining the chain state.

[Link to related documentation](/operate/node-intro)

---

## Midnight Node v0.18.0 release notes

**Version**: v0.18.0  
**Date**: TBA  
**Environment**: `preview`

### High-level summary

This release introduces the new tokenomics model with unshielded transactions in addition to the existing shielded transactions and DUST-based fees instead of tDUST. 
The Midnight Generator has been re-engineered into the Midnight Toolkit with expanded capabilities. 
Upgrades to Partner Chains v1.8.0. 
The breaking changes in this release require chain reset and affects Preview developers and stake pool operators.

### Audience

This release note is critical for users who:

- Run a node on Preview.
- Use the Midnight Generator (now Midnight Toolkit).
- Operate stake pools or maintain infrastructure.
- Work with the NIGHT token or deploy contracts.

### Summary of updates

- Introduced unshielded transactions alongside existing shielded transactions.
- Implemented new DUST fee mechanism generated from the NIGHT token.
- Upgraded to Partner Chains v1.8.0.
- Added Federated Authority Observation capabilities.
- Reduced session length from 2 hours to 30 minutes (1200 slots â†’ 300 slots) for improved stability.
- Implemented state forking for ephemeral environments.
- Enhanced security with non-root Docker container users.
- Multiple critical bug fixes for DUST generation and registration.

### New features

Below is a detailed breakdown of added features.

#### Unshielded transactions

Midnight now supports unshielded transactions in addition to the existing shielded transactions. This provides developers with flexibility to choose the appropriate transaction type for their use case.

#### DUST fee mechanism

Transaction fees are now paid using DUST, which is generated from the NIGHT token through the cNight observation system. This tokenomics model creates a sustainable fee economy where NIGHT holders can generate DUST for paying transaction costs.

#### Midnight Toolkit

The Midnight Generator has been comprehensively re-engineered into the Midnight Toolkit, a powerful command-line tool for developers. With the new toolkit, you can also:

- Send Unshielded tokens.
- Send Shielded + Unshielded tokens between contract calls.
- Sync with local and remote networks.
- Calculate DUST fee.
- Execute compiled contracts.
- Pre-generate and send 100s of transactions (performance testing).
- Add support for node runtime forks.
- Fetch and print wallet state and DUST balance.
- Maintain contracts (updating authority + verifier keys).

#### Federated Authority Observation

Introduces observability of the federation authorised to produce Midnight blocks.

#### State forking for ephemeral environments

Enables snapshot and restore capabilities for node state. This allows developers to create ephemeral test environments that can be quickly spun up from specific chain states.

### New features requiring configuration updates

Below is a list of notable features requiring user action.

#### Session length reduction

Sessions reduced from 2 hours (1200 slots) to 30 minutes (300 slots).

**Required Updates**:
- Update monitoring and automation scripts that depend on session timing.
- Adjust stake pool operator workflows for shorter session cycles.

#### Network ID convention change

Network IDs now follow Polkadot standard with `midnight_` prefix.

**Required Updates**:

- Update chain specifications and configuration files to use new format.
- Chain spec now uses `id` field for network identification.

### Improvements

- Enhanced DUST registration error handling.
- Better UTXO ordering and capacity management.
- JSON output for wallet state.
- Flexible transaction command flags.
- Indexing status is now output to `stderr` when syncing, separating it from data output on `stdout`.

### Breaking changes

The following changes are critical and will break previous functionality.

#### Non-root Docker containers

**What changed**: Docker images now run as non-root `appuser` instead of root.

**What breaks**: Volume mounts without proper permissions will fail, scripts assuming root access will break.

**Required actions**:

- Review security configurations with new non-root container requirements.
- Set `RESTORE_OWNER` environment variable if needed for automated ownership correction

#### NetworkId type change

**What changed**: `NetworkId` changed from `enum` to `String` type

**What breaks**: Any code that pattern matches on NetworkId enum variants will fail to compile

**Required actions**:

- Update all `NetworkId` references to treat as `String`.
- Replace `enum` pattern matching with string comparisons.

### Known issues

Cost model integration is incomplete.

**Description**: The cost model integration is still in early stages and requires significant fine-tuning. Without proper cost limiting, blocks can become too full and cause network instability.

**Workaround**: Limit transactions to 1 per block until the next version is available. This can be configured by sending an extrinsic of the midnight pallets' `setMnTxWeight` to 1,000,000,000,000 using governance. This temporary limitation ensures network stability while cost model optimization continues.

### Links and references

- **Artifacts**: [Midnight node](https://hub.docker.com/r/midnightnetwork/midnight-node)
- **GitHub release**: [Midnight Node-0.18.0 release](https://github.com/midnightntwrk/midnight-node/releases/tag/node-0.18.0)
- **DUST**: [DUST architecture overview](https://docs.midnight.network/blog/dust-architecture)
- **Community support**: Join the discussion on [Discord](https://discord.com/invite/midnightnetwork)
- **Known issues board**: Midnight Node [open GitHub issues](https://github.com/midnightntwrk/midnight-node/issues)
