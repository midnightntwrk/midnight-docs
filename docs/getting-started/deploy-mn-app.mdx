---
title: Deploy Hello World Contract
description: Deploy your compiled Hello World smart contract to Midnight Testnet.
sidebar_position: 2
sidebar_label: Deploy an MN App
tags: [deployment, testnet, smart-contract, tutorial]
slug: /getting-started/deploy-hello-world
toc_max_heading_level: 2
---

# Deploying Your Hello World Contract

This guide continues from where the Hello World tutorial left off, showing how to deploy your compiled contract to Midnight Testnet.

## Prerequisites

You should already have from the Hello World tutorial:

- `contracts/hello-world.compact` file
- Compiled contract artifacts in `contracts/contract/` folder
- Basic `package.json` and project structure

## Update Your Project for Deployment

Replace your existing `package.json` with this complete version:

```json
{
  "name": "my-mn-app",
  "version": "1.0.0",
  "type": "module",
  "scripts": {
    "compile": "cd contracts && compact compile hello-world.compact .",
    "build": "tsc",
    "deploy": "node dist/deploy.js"
  },
  "dependencies": {
    "@midnight-ntwrk/compact-runtime": "^0.8.1",
    "@midnight-ntwrk/ledger": "^4.0.0",
    "@midnight-ntwrk/midnight-js-contracts": "2.0.2",
    "@midnight-ntwrk/midnight-js-http-client-proof-provider": "2.0.2",
    "@midnight-ntwrk/midnight-js-indexer-public-data-provider": "2.0.2",
    "@midnight-ntwrk/midnight-js-level-private-state-provider": "2.0.2",
    "@midnight-ntwrk/midnight-js-node-zk-config-provider": "2.0.2",
    "@midnight-ntwrk/midnight-js-network-id": "2.0.2",
    "@midnight-ntwrk/midnight-js-types": "2.0.2",
    "@midnight-ntwrk/wallet": "5.0.0",
    "@midnight-ntwrk/wallet-api": "5.0.0",
    "@midnight-ntwrk/zswap": "^4.0.0",
    "ws": "^8.18.3"
  },
  "devDependencies": {
    "@types/node": "^24.4.0",
    "@types/ws": "^8.5.10",
    "typescript": "^5.9.2"
  }
}
```

You've now added deployment scripts, Midnight libraries for interacting with the blockchain, and TypeScript development tools.

Install the dependencies:

```bash
cd ..
npm install
```

### Create TypeScript configuration

Using the following command, create the TypeScript configuration file:

```bash
touch tsconfig.json
```

Add this configuration to `tsconfig.json`:

```json
{
  "compilerOptions": {
    "target": "ES2022",
    "module": "ESNext",
    "moduleResolution": "node",
    "outDir": "./dist",
    "rootDir": "./src",
    "strict": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "resolveJsonModule": true
  },
  "include": ["src/**/*"]
}
```

This configures TypeScript to compile your code to modern JavaScript with proper module support.

### Create deployment script

Next, create the deployment script file:

```bash
touch src/deploy.ts
```

Start building `src/deploy.ts` by adding the imports needed for deployment:

```typescript
import { WalletBuilder } from "@midnight-ntwrk/wallet";
import { deployContract } from "@midnight-ntwrk/midnight-js-contracts";
import { httpClientProofProvider } from "@midnight-ntwrk/midnight-js-http-client-proof-provider";
import { indexerPublicDataProvider } from "@midnight-ntwrk/midnight-js-indexer-public-data-provider";
import { NodeZkConfigProvider } from "@midnight-ntwrk/midnight-js-node-zk-config-provider";
import { levelPrivateStateProvider } from "@midnight-ntwrk/midnight-js-level-private-state-provider";
import {
  NetworkId,
  setNetworkId,
  getZswapNetworkId,
  getLedgerNetworkId
} from "@midnight-ntwrk/midnight-js-network-id";
import { createBalancedTx } from "@midnight-ntwrk/midnight-js-types";
import { nativeToken, Transaction } from "@midnight-ntwrk/ledger";
import { Transaction as ZswapTransaction } from "@midnight-ntwrk/zswap";
import { WebSocket } from "ws";
import * as fs from "fs";
import * as path from "path";
import * as readline from "readline/promises";
import * as Rx from "rxjs";
```

These imports provide all the tools needed to interact with Midnight's blockchain.

Add the configuration section that sets up network connections:

```typescript
// Fix WebSocket for Node.js environment
// @ts-ignore
globalThis.WebSocket = WebSocket;

// Configure for Midnight Testnet
setNetworkId(NetworkId.TestNet);

// Testnet connection endpoints
const TESTNET_CONFIG = {
  indexer: "https://indexer.testnet-02.midnight.network/api/v1/graphql",
  indexerWS: "wss://indexer.testnet-02.midnight.network/api/v1/graphql/ws",
  node: "https://rpc.testnet-02.midnight.network",
  proofServer: "http://127.0.0.1:6300"
};
```

This configures connections to Midnight's testnet infrastructure.

Create the main function with wallet setup:

```typescript
async function main() {
  console.log("🌙 Midnight Hello World Deployment\n");

  const rl = readline.createInterface({
    input: process.stdin,
    output: process.stdout
  });

  try {
    // Ask user if they have an existing wallet seed
    const choice = await rl.question("Do you have a wallet seed? (y/n): ");

    let walletSeed: string;
    if (choice.toLowerCase() === "y" || choice.toLowerCase() === "yes") {
      // Use existing seed
      walletSeed = await rl.question("Enter your 64-character seed: ");
    } else {
      // Generate new wallet seed
      const bytes = new Uint8Array(32);
      crypto.getRandomValues(bytes);
      walletSeed = Array.from(bytes, (b) =>
        b.toString(16).padStart(2, "0")
      ).join("");
      console.log(`\n📝 SAVE THIS SEED: ${walletSeed}\n`);
    }
  } catch (error) {
    console.error("Failed:", error);
  } finally {
    rl.close();
  }
}
```

This handles wallet creation or loading from an existing seed.

Add the wallet building and balance checking inside the try block:

```typescript
// Build wallet from seed
console.log("Building wallet...");
const wallet = await WalletBuilder.buildFromSeed(
  TESTNET_CONFIG.indexer,
  TESTNET_CONFIG.indexerWS,
  TESTNET_CONFIG.proofServer,
  TESTNET_CONFIG.node,
  walletSeed,
  getZswapNetworkId(),
  "info"
);

wallet.start();

// Wait for wallet to sync with blockchain
console.log("Checking balance...");
const state = await Rx.firstValueFrom(
  wallet.state().pipe(Rx.filter((s) => s.syncProgress?.synced === true))
);

const balance = state.balances[nativeToken()] || 0n;
console.log(`Balance: ${balance}`);

// Check if wallet needs funding
if (balance === 0n) {
  console.log(`\nWallet address: ${state.address}`);
  console.log("Visit: https://midnight.network/test-faucet");
  console.log("Get tokens and run this again!\n");
  await wallet.close();
  await rl.close();
  process.exit(0);
}
```

This connects to the blockchain and checks if you have tokens for deployment.

Add the contract loading section:

```typescript
// Load the compiled contract files
console.log("Loading contract...");
const contractPath = path.join(process.cwd(), "contracts");
const contractModulePath = path.join(contractPath, "contract", "index.cjs");

if (!fs.existsSync(contractModulePath)) {
  console.error("Contract not found! Run: npm run compile");
  process.exit(1);
}

const HelloWorldModule = await import(contractModulePath);
const contractInstance = new HelloWorldModule.Contract({});

// Create wallet provider for transactions
const walletState = await Rx.firstValueFrom(wallet.state());

const walletProvider = {
  coinPublicKey: walletState.coinPublicKey,
  encryptionPublicKey: walletState.encryptionPublicKey,
  balanceTx(tx: any, newCoins: any) {
    return wallet
      .balanceTransaction(
        ZswapTransaction.deserialize(
          tx.serialize(getLedgerNetworkId()),
          getZswapNetworkId()
        ),
        newCoins
      )
      .then((tx) => wallet.proveTransaction(tx))
      .then((zswapTx) =>
        Transaction.deserialize(
          zswapTx.serialize(getZswapNetworkId()),
          getLedgerNetworkId()
        )
      )
      .then(createBalancedTx);
  },
  submitTx(tx: any) {
    return wallet.submitTransaction(tx);
  }
};
```

This loads your compiled Hello World contract and creates the wallet interface for transactions.

Configure all the required providers:

```typescript
//...

// Configure all required providers
console.log("Setting up providers...");
const providers = {
  privateStateProvider: levelPrivateStateProvider({
    privateStateStoreName: "hello-world-state"
  }),
  publicDataProvider: indexerPublicDataProvider(
    TESTNET_CONFIG.indexer,
    TESTNET_CONFIG.indexerWS
  ),
  zkConfigProvider: new NodeZkConfigProvider(contractPath),
  proofProvider: httpClientProofProvider(TESTNET_CONFIG.proofServer),
  walletProvider: walletProvider,
  midnightProvider: walletProvider
};
```

These providers handle private state, public data, zero-knowledge proofs, and wallet operations.

Deploy the contract and save the information:

```typescript
// ...
// Deploy the contract to blockchain
console.log("Deploying contract (30-60 seconds)...");

const deployed = await deployContract(providers, {
  contract: contractInstance,
  privateStateId: "helloWorldState",
  initialPrivateState: {}
});

const contractAddress = deployed.deployTxData.public.contractAddress;

// Save deployment information
console.log("\n✅ DEPLOYED!");
console.log(`Contract: ${contractAddress}\n`);

const info = {
  contractAddress,
  deployedAt: new Date().toISOString()
};

fs.writeFileSync("deployment.json", JSON.stringify(info, null, 2));
console.log("Saved to deployment.json");

// Close the wallet connection
await wallet.close();
```

This completes the deployment and saves your contract address for future use.

Initiatite the main funtion.

```typescript
main().catch(console.error);
```

## Deploy Your Contract

### Start the proof server

Open a new terminal window and run:

```bash
docker run -p 6300:6300 midnightnetwork/proof-server -- 'midnight-proof-server --network testnet'
```

Keep this terminal open during deployment.

### Compile and deploy

In your original terminal, compile the TypeScript:

```bash
npm run build
```

Then deploy your contract:

```bash
npm run deploy
```

## What Gets Created

After successful deployment:

- `deployment.json` - contains your contract address
- `dist/` folder - compiled TypeScript output
- Your wallet seed (displayed in console) - save this securely

Your project structure now looks like:

```
my-mn-app/
├── contracts/
│   ├── compiler/
│   ├── contract/         # Contains index.cjs
│   ├── keys/
│   ├── zkir/
│   └── hello-world.compact
├── src/
│   └── deploy.ts
├── dist/                 # Generated by TypeScript
├── deployment.json       # Generated after deployment
├── package.json
└── tsconfig.json
```

:::info Important to save

- **Wallet seed**: 64-character hex string - keep this private and secure
- **Contract address**: From deployment.json - needed for interaction
  :::

## Next Steps

Your Hello World contract is now deployed on Midnight Testnet! Continue to the next guide to learn how to interact with your deployed contract.
