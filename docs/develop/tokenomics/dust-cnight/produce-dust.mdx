---
SPDX-License-Identifier: Apache-2.0
copyright: This file is part of midnight-docs. Copyright (C) 2025 Midnight Foundation. Licensed under the Apache License, Version 2.0 (the "License"); You may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
sidebar_label: "Generate DUST from previously owned tokens"
---

import { Step, StepsProvider } from '@site/src/components/Step';

# Generate DUST from previously owned tokens

**Why:** NIGHT UTxOs (on Cardano) created **before** your registration are **non-generating**. Re-spending them to yourself creates **new UTxOs** (post-registration) that **generate DUST** under your existing mapping.

## Prerequisites

- You are already registered (Cardano wallet → Midnight DUST address mapping is active and relayed)
- Cardano wallet holding older, non-generating NIGHT UTxOs (on Cardano)
- Access to a status/tooling view (DApp or CLI/SDK) that can:
  - list your NIGHT UTxOs with creation time
  - build and submit a Cardano transaction spending selected UTxOs back to your own wallet

## Steps

### List non-generating UTxOs
<StepsProvider>
  <Step>Query your wallet’s NIGHT UTxOs (with creation timestamp) from the observability/indexer.</Step>
  <Step>Determine the registration time for your wallet (when the registration UTxO was observed/accepted).</Step>
  <Step>Classify as <strong>non-generating</strong> any NIGHT UTxOs created <em>before</em> registration (or otherwise flagged non-producing).</Step>
</StepsProvider>

### Select UTxOs to activate
<StepsProvider>
  <Step>Choose one or more non-generating NIGHT UTxOs to activate via respend.</Step>
  <Step>Optionally, keep some older UTxOs untouched if you don’t want to activate them yet.</Step>
</StepsProvider>

### Respend to self (on Cardano)
<StepsProvider>
  <Step>Build a Cardano transaction that spends the selected UTxOs and returns the NIGHT back to your own wallet (self-transfer), creating new UTxOs.</Step>
  <Step>Preserve token amounts; include required ADA for multi-asset UTxOs as needed by Cardano.</Step>
  <Step>Sign and submit the transaction; record the resulting <code>txHash</code>.</Step>
</StepsProvider>

### Allow indexing and relay to Midnight
<StepsProvider>
  <Step>The observability layer detects the newly created NIGHT UTxOs (now post-registration).</Step>
  <Step>The Midnight node ingests this state; those fresh UTxOs become eligible to generate DUST.</Step>
</StepsProvider>

### Confirm DUST is generating
<StepsProvider>
  <Step>Re-query status: the newly created (self-spent) UTxOs now appear as <strong>generating</strong>; the original UTxOs appear <strong>spent</strong>.</Step>
  <Step>After relay completes, DUST balances begin accruing to your mapped Midnight DUST address automatically—no further action required.</Step>
</StepsProvider>
