---
SPDX-License-Identifier: Apache-2.0
copyright: This file is part of midnight-docs. Copyright (C) 2025 Midnight Foundation. Licensed under the Apache License, Version 2.0 (the "License"); You may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
---

# Midnight architecture

Midnight's architecture allows decentralized applications to be
deployed on any device, from a massive server to a mobile phone. If
the device can run a web browser, it can run a Midnight DApp. Some of
Midnight's privacy-preserving capabilities, however, can be
computationally intensive. Therefore, the Midnight platform has made
it possible to separate the lightweight DApp code from the
cryptographic heavy lifting, leading to the architecture shown in the
following diagram.

![Midnight Devnet](/img/devnet1-simple-arch-light.jpeg)

Notice, first of all, that Midnight's contracts are described in a
domain-specific language: _Compact_, as in making a _compact_ with
someone.

One of the outputs of the Compact compiler is collection of
JavaScript/TypeScript definitions that provide a custom API for a
smart contract. The compiler also produces the cryptographic
materials and 'circuit' descriptions needed by the _proof server_ to
create zero-knowledge proofs, which enforce the terms of a smart
contract while shielding your private data.

The compiler runs only on the DApp developer's system, not in the
deployed Midnight DApp.

Midnight DApps rely on the services provided by a browser extension
integrated into a special 
[Midnight alpha version](/docs/develop/tutorial/1-using/chrome-ext.mdx) of 
the Lace wallet. In addition to
providing a faster implementation of certain functions than
would be possible in JavaScript, the extension serves as the wallet
to which Midnight's tokens are assigned.

:::note ⚠️ Wallet SDK v4.0.0 Notice

As of SDK v4.0.0, Midnight wallets and DApp connector APIs now use the Bech32m address format by default. If you're developing a DApp or working with the Lace browser extension, ensure that:

You're using @midnight-ntwrk/wallet@4.0.0 or later.

Your DApp connector is updated to @midnight-ntwrk/dapp-connector-api@2.0.0.

You handle Bech32m and legacy address formats correctly (see the wallet-sdk-address-format package for utilities).

Failure to update your tooling may result in incompatibilities or unreadable addresses during testing or integration.
:::

In this version of the Midnight testnet, there is one token: _test
DUST_, abbreviated _tDUST_. In the testnet, the primary function of
tDUST is to pay for transactions. tDUST is used for testnet testing purposes only. It has no monetary value or price 
and is not yet calibrated to the computational expense of
transactions.

The details of a user's transaction, possibly including private data,
must be communicated between the DApp and the proof server to
generate a proof of the transaction's correctness, but private data
is never sent to any of the other services.

Keeping in mind the desirability of shielding private information, the
Midnight architecture supports a variety of deployment options. For
example:

- A DApp user could run the browser-hosted DApps, the proof server,
  and the client service elements on their laptop so that
  nothing other than Midnight inter-node traffic leaves that machine.
- Another user could run both the proof server and the client services on
  their own server in an office or lab and access it over an
  encrypted channel from a mobile device.
- Another user could host the proof server and the client services in the cloud
  (or pay a trusted third party to do it) and access them from a
  mobile device.
- A user could even run the proof server on their local machine
  (to keep private data entirely local) while relying on always-on
  instances of a Midnight Indexer and a Midnight node in the cloud.

This tutorial will begin by exercising that last option, giving you
instructions to run only the proof server on your system, while
connecting to a Midnight Indexer and Midnight network node that
Midnight has provisioned in the cloud. Later in the tutorial,
instructions are provided for the first option, in which you will
deploy all the client services on your system, with your own Midnight node connecting to the Midnight devnet.

## Tutorial overview

In this tutorial, you will begin by learning to _use_ Midnight DApps,
then learn to _compile and run_ them, and then have an
opportunity to _write_ a contract and parts of the code yourself. At
the end of the tutorial, you should have a deeper appreciation for
what Midnight has to offer and enough knowledge to be able to
experiment with your own Midnight contracts and DApps.

The Compact compiler, the Docker images for the proof server and other
client services, and all the TypeScript libraries you need are
available at:

| Artifact               | Location                                            |
|------------------------|-----------------------------------------------------|
| Compact compiler       | [Compact Release](../../relnotes/compact) |
| Proof server | [Proof Server Release](../../relnotes/proof-server) |
| Lace wallet                | [Lace Wallet](https://chromewebstore.google.com/detail/lace-beta/hgeekaiplokcnmakghbdfbgnlfheichg) |
| Midnight Wallet SDK                 | [Midnight Wallet Release](../../relnotes/wallet) |
| VSCode extension       | [VSCode Extension Release](../../relnotes/vs-code-extension) |
| Docker images          | [https://hub.docker.com/u/midnightnetwork](https://hub.docker.com/u/midnightnetwork) |
| Node libraries         | [https://www.npmjs.com/search?q=midnight-ntwrk](https://www.npmjs.com/search?q=midnight-ntwrk) |


The tutorial will guide you through the process of accessing them at
appropriate points in the lessons.
